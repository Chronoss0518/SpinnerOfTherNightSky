# 夜空の紡者

---
## Menu
---

[やりたいこと](#やりたいこと)
[ゲームの説明](#ゲームの説明)
[カードの種類](#カードの種類)
[用語](#用語)
[ゲームルール](#ゲームルール)

---
## やりたいこと
---

以下の内容を目的としています。
- ちょっとしたゲームを作りたい
- カードは購入以外にもトレードできるようにしたい
- 想定する範囲でユーザーに自由度を与えたい
  - カードプロテクターや魔導書、プレイマットの画像を添付することでItemを生成できるようにしたい
- 基本的にはどのプラットフォームでも遊べるようにしたい
  - プラットフォーム間でやりとりできるようにしたい
- セキュリティ性能を試したい
- 簡単に一つのプロジェクトをやり切りたい
  - 他にもネタがあるため少しでも数を減らしたい

---
## ゲームの説明
---

このゲームは星座をモチーフにした術カードと人の手で作られた道具のカードを用いて戦うボードゲームです。
お互いに一つの盤面に石を置き、おかれた石によって対戦者は術カードを利用することができます。
利用した術カードのポイントが10を超えると勝利になります。
相手が利用したい術を予測して戦うのがこのゲームの醍醐味になります。

また、簡単に遊ぶことができるPocketルールも存在します。
ルールの変更点は石を盤面において、その位置がそろうまで発動できない術が良しの個数によって発動できるようになります。

---
## カードの種類
---

基本は2つに分かれます。
1. 術
2. 道具

上記のカードにはさらに以下の2つに分かれます。
1. 通常
2. 罠

#### 1-1 通常術 
盤面の指定された石を取り除いて使用できます。

#### 1-2 罠術
一度伏せてから石を取り除いて使用します。

#### 2-1 通常道具
条件なしで使用できます。

#### 2-1 罠道具
一度伏せてから使用します。

---
## 術の属性
---
術にはそれぞれ以下のようなパラメーターが存在します
- Spring
- Summer
- Autumn
- Winter

---
## 用語
---

#### 魔術師
ゲームの参加者全員を指します。
魔術師はカードに様々な効果を封じ込めており、カードを利用することでその効果を解き放つことができます。

#### 発動
カードの内容を解き放つことを言います。

#### 解放
一部のカードが持つ内容です。
カードを重ね合わせて強力な状態にすることを指します。

#### ライブラリ
20～30枚で構成された術カードで同じカードは2枚まで入れられます。

#### 道具袋
道具カードを用意したものになります。
こちらもライブラリと同じで同じカードは2枚まで入れられます。

#### 盤面
ゲームを行うための場所になります。
盤面は以下の構成になります。

- StoneZone
  - 石を置く場所です
  - 12×12のマス目上に配置します
- MagicZone
  - 発動した術カードを置く場所です
  - ここに配置されたカードのポイントが10点を超えると勝利になります
- TrapZone
  - 罠カードを置く場所です
  - 罠カードは3枚までおけます
- TrashZone
  - 使用した道具を置く場所です

#### 石
ゲームの要となる要素です。
石の配置により魔術師の持つカードが反応を起こし、発動することができます。

#### 手札
手荷物カードを指します。
ゲーム開始時にライブラリと道具袋のカードを全て手札にします。
手に持つカードで条件を満たしたカードを発動することができます。

#### ターン
ターンはゲーム中における手順の巡回数になります。
各ターンによって操作できるプレイヤーは順番に変わります。

#### プレイヤー
現在プレイヤーは次の種類存在します
- 現在石を置くプレイヤーのことをターンプレイヤーと言います
- 置かないプレイヤーをアザープレイヤーと言います
- カードの実施者をユーザーと言います

#### アイテム
ゲームで利用するための装飾品になります。
- 魔導書
  - Libraryを入れるためのケース
- カードプロテクター
  - Cardの背景を変えるためのItem
- プレイマット
  - 自分のフィールドを装飾するカード位置

---
## ゲームルール
---

- カードに記載されているPTが10点以上になったプレイヤーが勝利します
- ライブラリのカードを手札として保持します
- 先攻後攻を決めます

#### 以降は次の手順にのっとって操作します
``` mermaid
graph TD;

Player[UseCheckCardPlayer]
OtherPlayer[UseCheckCard:OtherPlayer]

Start-->UseItem
UseItem-->SetStone
SetStone-->Player
Player-->OtherPlayer
OtherPlayer-->SetTrap
SetTrap-->End

```

1. UseItem
  ターンプレイヤーは道具カードを手札から利用します
2. SetStone
  ターンプレイヤーは石を1～3個を盤面に置きます
3. UseCheckCard:OtherPlayer
  アザープレイヤーは手札からカードを利用するかの確認をします※
    - 複数人いる場合は次に自身のターンになる人の順に確認します
4. UseCheckCard:Player
  ターンプレイヤーは手札からカードを利用するかの確認をします※
5. SetTrap
  ターンプレイヤーは手札の罠カードをTrapZoneへ配置することができます
6. End
  次のターンへ移行しターンプレイヤーを切り替えます

#### 上記の手順のうち、UseItemとUseCheckCardの部分の詳細手順を記述します

``` mermaid
graph TD;

CardCheck{CardCheck}
TrapCheck{TrapCheck}

Start-->CardCheck
CardCheck-->|カードを発動する場合|UserUseCard
CardCheck-->|カードを発動しない場合|End
UserUseCard-->TrapCheck
TrapCheck-->|トラップカードを発動する場合|PlayUnUserTrapCard
TrapCheck-->|トラップカードを発動しない場合|PlayUserUseCard
PlayUnUserTrapCard-->PlayUserUseCard
PlayUserUseCard-->End

```

1. CardCheck
ユーザーは石の配置に基づき、手札にあるカードを利用するか確認し、利用しない場合はこの時点でこの手順を終了します
2. UserUseCard
ユーザーはカードを場に出します
3. TrapCheck
ユーザーではないプレイヤーはトラップを確認し、発動するかどうかを決めます。
4. PlayUnUserTrapCard
トラップカードを利用する場合、表にしてカードの内容を行います
5. PlayUserUseCard
利用した石を取り除き、カードの内容を行います

